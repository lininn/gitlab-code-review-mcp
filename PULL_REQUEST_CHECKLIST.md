# 合并请求检查清单

## 提交前自检清单

### 基础检查
- [ ] 代码已在本地完整测试
- [ ] 所有新增代码都有对应的测试用例
- [ ] 所有测试用例都能通过
- [ ] 代码符合项目编码规范
- [ ] 运行linter检查无错误

### 功能性检查
- [ ] 功能实现完整，满足需求
- [ ] 边界条件处理正确
- [ ] 错误处理机制完善
- [ ] 输入验证充分
- [ ] 输出格式正确

### 代码质量检查
- [ ] 变量和函数命名清晰有意义
- [ ] 代码逻辑清晰易懂
- [ ] 避免代码重复
- [ ] 函数长度适中（一般不超过50行）
- [ ] 类和模块职责单一

### 文档检查
- [ ] 代码注释充分且有意义
- [ ] 公共API有完整的文档字符串
- [ ] README文件已更新（如需要）
- [ ] API文档已更新（如需要）
- [ ] CHANGELOG已更新

### 安全检查
- [ ] 敏感信息不在代码中硬编码
- [ ] 输入数据得到适当验证和清理
- [ ] 权限控制逻辑正确
- [ ] 依赖包版本固定且安全
- [ ] SQL注入等安全漏洞已防范

### 性能检查
- [ ] 没有明显的性能问题
- [ ] 数据库查询已优化
- [ ] 避免不必要的计算和内存使用
- [ ] 大数据处理有适当的优化

### 兼容性检查
- [ ] 向后兼容性保持良好
- [ ] 破坏性变更已明确标识
- [ ] 跨平台兼容性考虑充分
- [ ] 依赖版本兼容性检查

## 审查者检查清单

### 需求理解
- [ ] 理解MR的目的和背景
- [ ] 确认实现方案合理
- [ ] 验证功能完整性
- [ ] 检查边界条件处理

### 代码审查
- [ ] 代码逻辑正确无误
- [ ] 代码风格符合项目规范
- [ ] 变量命名清晰有意义
- [ ] 函数设计合理
- [ ] 类设计符合面向对象原则

### 测试审查
- [ ] 测试用例覆盖充分
- [ ] 测试逻辑正确
- [ ] 测试数据合理
- [ ] 集成测试完整
- [ ] 边界条件测试充分

### 安全审查
- [ ] 输入验证充分
- [ ] 权限控制正确
- [ ] 敏感数据处理安全
- [ ] 依赖安全性检查
- [ ] 潜在安全漏洞排查

### 性能审查
- [ ] 算法复杂度合理
- [ ] 数据库查询优化
- [ ] 内存使用合理
- [ ] 网络请求优化
- [ ] 缓存策略合理

### 可维护性审查
- [ ] 代码结构清晰
- [ ] 模块化程度适当
- [ ] 依赖关系简单
- [ ] 易于扩展和修改
- [ ] 文档完整准确

## GitLab MCP 特定检查

### MCP服务器检查
- [ ] 工具函数定义完整
- [ ] 参数类型和验证正确
- [ ] 返回值格式一致
- [ ] 错误处理机制完善
- [ ] 生命周期管理正确

### GitLab API集成检查
- [ ] API调用方式正确
- [ ] 认证机制安全
- [ ] 错误处理充分
- [ ] 速率限制考虑
- [ ] 响应数据验证

### Python代码检查
- [ ] 遵循PEP 8规范
- [ ] 异常处理适当
- [ ] 类型提示完整
- [ ] 文档字符串规范
- [ ] 日志记录合理

## 合并前最终检查

### CI/CD检查
- [ ] 所有CI/CD管道通过
- [ ] 代码质量检查通过
- [ ] 安全扫描通过
- [ ] 测试覆盖率达标
- [ ] 构建成功

### 审查状态检查
- [ ] 至少2个审查者批准
- [ ] 所有必要的讨论已解决
- [ ] 所有必须修复的问题已解决
- [ ] 代码冲突已解决
- [ ] 分支保护规则满足

### 部署准备检查
- [ ] 部署文档更新
- [ ] 配置文件更新
- [ ] 数据迁移脚本准备
- [ ] 监控配置更新
- [ ] 回滚方案确认

## 快速检查清单（简版）

适用于小型修改或紧急修复：

### 基础
- [ ] 功能正确
- [ ] 测试通过
- [ ] 无语法错误
- [ ] 符合编码规范

### 安全
- [ ] 无明显安全漏洞
- [ ] 输入验证适当
- [ ] 权限检查正确

### 质量
- [ ] 代码清晰易读
- [ ] 注释充分
- [ ] 无重复代码

### 流程
- [ ] CI通过
- [ ] 审查者批准
- [ ] 冲突解决

---

## 使用说明

1. **提交者**: 在创建MR前完成"提交前自检清单"
2. **审查者**: 使用"审查者检查清单"进行代码审查
3. **维护者**: 合并前完成"合并前最终检查"
4. **紧急情况**: 可使用"快速检查清单"加速流程

记住：质量比速度更重要，但也要平衡效率和完美主义。
